{"remainingRequest":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\AttendanceList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\AttendanceList.vue","mtime":1592960214000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgQlRhYmxlIH0gZnJvbSAnYm9vdHN0cmFwLXZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXR0ZW5kYW5jZUxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgICdiLXRhYmxlJzogQlRhYmxlLAogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6ICcnLAogICAgICBsaXN0QXR0ZW5kYW5jZTogW10sCiAgICAgIGlzRmlyc3RUaW1lOiB0cnVlLAogICAgICBmaW5pc2hMb2FkaW5nOiBmYWxzZSwKICAgICAgZmllbGRzOiBbCiAgICAgICAgewogICAgICAgICAga2V5OiAnbmlrJywKICAgICAgICAgIGxhYmVsOiAnSUQnLAogICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAnbmFtYScsCiAgICAgICAgICBsYWJlbDogJ05hbWUnLAogICAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAndGltZXN0YW1wJywKICAgICAgICAgIGxhYmVsOiAnVGltZScsCiAgICAgICAgfSwKICAgICAgXSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZEF0dGVuZGFuY2UgKCkgewogICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHRoaXMuc2VhcmNoCiAgICAgIHJldHVybiB0aGlzLmxpc3RBdHRlbmRhbmNlLmZpbHRlcihmdW5jdGlvbiAoYXR0KSB7CiAgICAgICAgcmV0dXJuIGF0dC5uYW1hLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkKICAgICAgfSkKICAgIH0sCiAgfSwKICBtb3VudGVkICgpIHsKICAgIGlmICh0aGlzLmlzRmlyc3RUaW1lKSB7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCkKICAgICAgdGhpcy5pc0ZpcnN0VGltZSA9IGZhbHNlCiAgICB9CiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLmZldGNoRGF0YSgpCiAgICB9LCAyMDAwKQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhICgpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXR0ZW5kYW5jZScpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coJ2ZldGNoaW5nJykKICAgICAgICAgIHRoaXMubGlzdEF0dGVuZGFuY2UgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICB0aGlzLmZpbmlzaExvYWRpbmcgPSB0cnVlCiAgICAgICAgfSkKICAgIH0sCiAgICB0b2RheURhdGUgKCkgewogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpCiAgICAgIHZhciBkZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJykKICAgICAgdmFyIG1tID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpCiAgICAgIHZhciB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKQogICAgICB0b2RheSA9IG1tICsgJy8nICsgZGQgKyAnLycgKyB5eXl5CiAgICAgIHJldHVybiB0b2RheQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["AttendanceList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AttendanceList.vue","sourceRoot":"src/views","sourcesContent":["<!-- eslint-disable -->\n<template>\n  <v-container id=\"attd-list\" fluid tag=\"section\">\n    <v-row justify=\"center\">\n      <v-col \n        cols=\"12\"\n        md=\"12\">\n        <base-material-card\n          icon=\"mdi-view-dashboard\"\n          :title=\"'Attendance List ' + todayDate()\"\n          class=\"px-5 py-3\"\n        >\n          <div\n            align=\"center\"\n            v-if=\"!finishLoading\">\n            <v-progress-circular\n              indeterminate\n              rotate\n              color=\"success\"\n            >\n            </v-progress-circular>\n          </div>\n          <v-text-field\n            v-model=\"search\"\n            label=\"Search attendance record by employee's name\"\n          />\n          <b-table\n            show-empty\n            v-if=\"finishLoading\"\n            striped \n            hover\n            head-variant=\"dark\"\n            :fields=\"fields\"\n            :items=\"computedAttendance\">\n          </b-table>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  import axios from 'axios'\n  import { BTable } from 'bootstrap-vue'\n\n  export default {\n    name: 'AttendanceList',\n    components: {\n      'b-table': BTable,\n    },\n    data () {\n      return {\n        search: '',\n        listAttendance: [],\n        isFirstTime: true,\n        finishLoading: false,\n        fields: [\n          {\n            key: 'nik',\n            label: 'ID',\n            sortable: false,\n          },\n          {\n            key: 'nama',\n            label: 'Name',\n            sortable: false,\n          },\n          {\n            key: 'timestamp',\n            label: 'Time',\n          },\n        ],\n      }\n    },\n    computed: {\n      computedAttendance () {\n        const searchQuery = this.search\n        return this.listAttendance.filter(function (att) {\n          return att.nama.toLowerCase().includes(searchQuery.toLowerCase())\n        })\n      },\n    },\n    mounted () {\n      if (this.isFirstTime) {\n        this.fetchData()\n        this.isFirstTime = false\n      }\n      window.setInterval(() => {\n        this.fetchData()\n      }, 2000)\n    },\n    methods: {\n      fetchData () {\n        axios\n          .get('http://localhost:5000/attendance')\n          .then(response => {\n            // console.log('fetching')\n            this.listAttendance = response.data\n            this.finishLoading = true\n          })\n      },\n      todayDate () {\n        var today = new Date()\n        var dd = String(today.getDate()).padStart(2, '0')\n        var mm = String(today.getMonth() + 1).padStart(2, '0')\n        var yyyy = today.getFullYear()\n        today = mm + '/' + dd + '/' + yyyy\n        return today\n      },\n    },\n  }\n</script>\n\n<style>\n</style>\n"]}]}