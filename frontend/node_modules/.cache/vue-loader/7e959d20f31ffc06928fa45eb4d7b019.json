{"remainingRequest":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\CreateReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\CreateReport.vue","mtime":1592960214000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IEpzb25FeGNlbCBmcm9tICd2dWUtanNvbi1leGNlbCcKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDcmVhdGVSZXBvcnQnLAogIGNvbXBvbmVudHM6IHsKICAgICdkb3dubG9hZC1leGNlbCc6IEpzb25FeGNlbCwKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgcGlja2VyOiBudWxsLAogICAgICBkYXRhbGlzdDogewogICAgICAgIGRhdGU6ICcnLAogICAgICAgIGxpc3Q6IFtdLAogICAgICB9LAogICAgICBmaWVsZHM6IHsKICAgICAgICAnSUQgS2FyeWF3YW4nOiAnaWRfa2FyeWF3YW4nLAogICAgICAgICdOYW1hIEthcnlhd2FuJzogJ25hbWEnLAogICAgICAgICdKYW0gRGF0YW5nJzogJ2RhdGFuZycsCiAgICAgICAgJ0phbSBQdWxhbmcnOiAncHVsYW5nJywKICAgICAgfSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMucGlja2VyID0gdGhpcy5nZXREYXRlKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbkRvd25sb2FkICgpIHsKICAgICAgcmV0dXJuIHRoaXMucGlja2VyID09PSB0aGlzLmRhdGFsaXN0LmRhdGUgJiYgdGhpcy5kYXRhbGlzdC5saXN0Lmxlbmd0aCA+IDAKICAgIH0sCiAgICBjaGVjayAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvcmVwb3J0LycgKyB0aGlzLnBpY2tlcikKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgYWxlcnQoJ1RpZGFrIGFkYSBjYXRhdGFuIGtlaGFkaXJhbiBwYWRhIHRhbmdnYWwgJyArIHRoaXMucGlja2VyKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5kYXRhbGlzdC5kYXRlID0gdGhpcy5waWNrZXIKICAgICAgICAgICAgdGhpcy5kYXRhbGlzdC5saXN0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0RGF0ZSAoKSB7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKQogICAgICB2YXIgZGQgPSBTdHJpbmcodG9kYXkuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpCiAgICAgIHZhciBtbSA9IFN0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKQogICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkKICAgICAgcmV0dXJuIHl5eXkgKyAnLScgKyBtbSArICctJyArIGRkCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["CreateReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateReport.vue","sourceRoot":"src/views","sourcesContent":["<!-- eslint-disable -->\n<template>\n  <v-container id=\"attd-list\" fluid tag=\"section\">\n    <v-row justify=\"center\">\n      <v-col \n        cols=\"12\"\n        md=\"12\">\n        <base-material-card\n          icon=\"mdi-account-plus\"\n          title=\"Create Attendance Report\"\n          class=\"px-5 py-3\"\n        > \n          <v-form>\n            <v-container class=\"py-0\">\n                <v-row justify=\"center\">\n                    <v-date-picker\n                        v-model=\"picker\"\n                        full-width\n                    >\n                    </v-date-picker>\n                </v-row>\n                <v-row>\n                <v-col cols=\"12\" md=\"6\">\n                    <v-btn\n                    block\n                    color=\"success\"\n                    class=\"mr-0\"\n                    @click=\"check\">\n                    process report\n                    </v-btn>\n                </v-col>\n                <v-col cols=\"12\" md=\"6\">\n                  <v-btn\n                    block\n                    color=\"blue\"\n                    :disabled=\"!canDownload()\"\n                    class=\"mr-0\"\n                    @click=\"check\">\n\n                    <download-excel\n                      :data   = \"datalist.list\"\n                      :fields = \"fields\"\n                      worksheet = \"My Worksheet\"\n                      :name    = \"'Attendance List ' + this.picker + '.xls'\">\n                    </download-excel>\n\n                  </v-btn>\n                </v-col>\n                </v-row>\n\n            </v-container>\n          </v-form>\n        </base-material-card>\n      </v-col>\n\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  import axios from 'axios'\n  import JsonExcel from 'vue-json-excel'\n  export default {\n    name: 'CreateReport',\n    components: {\n      'download-excel': JsonExcel,\n    },\n    data () {\n      return {\n        picker: null,\n        datalist: {\n          date: '',\n          list: [],\n        },\n        fields: {\n          'ID Karyawan': 'id_karyawan',\n          'Nama Karyawan': 'nama',\n          'Jam Datang': 'datang',\n          'Jam Pulang': 'pulang',\n        },\n      }\n    },\n    computed: {\n    },\n    mounted () {\n      this.picker = this.getDate()\n    },\n    methods: {\n      canDownload () {\n        return this.picker === this.datalist.date && this.datalist.list.length > 0\n      },\n      check (e) {\n        e.preventDefault()\n        axios\n          .get('http://localhost:5000/report/' + this.picker)\n          .then(response => {\n            if (response.data.length === 0) {\n              alert('Tidak ada catatan kehadiran pada tanggal ' + this.picker)\n            } else {\n              this.datalist.date = this.picker\n              this.datalist.list = response.data\n            }\n          })\n      },\n      getDate () {\n        const today = new Date()\n        var dd = String(today.getDate()).padStart(2, '0')\n        var mm = String(today.getMonth() + 1).padStart(2, '0')\n        var yyyy = today.getFullYear()\n        return yyyy + '-' + mm + '-' + dd\n      },\n    },\n  }\n</script>\n\n<style>\n</style>\n"]}]}