{"remainingRequest":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\AttendanceList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\AttendanceList.vue","mtime":1592960214000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgQlRhYmxlIH0gZnJvbSAnYm9vdHN0cmFwLXZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXR0ZW5kYW5jZUxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgICdiLXRhYmxlJzogQlRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAnJywKICAgICAgbGlzdEF0dGVuZGFuY2U6IFtdLAogICAgICBpc0ZpcnN0VGltZTogdHJ1ZSwKICAgICAgZmluaXNoTG9hZGluZzogZmFsc2UsCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICduaWsnLAogICAgICAgIGxhYmVsOiAnSUQnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAga2V5OiAnbmFtYScsCiAgICAgICAgbGFiZWw6ICdOYW1lJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIGtleTogJ3RpbWVzdGFtcCcsCiAgICAgICAgbGFiZWw6ICdUaW1lJwogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZEF0dGVuZGFuY2U6IGZ1bmN0aW9uIGNvbXB1dGVkQXR0ZW5kYW5jZSgpIHsKICAgICAgdmFyIHNlYXJjaFF1ZXJ5ID0gdGhpcy5zZWFyY2g7CiAgICAgIHJldHVybiB0aGlzLmxpc3RBdHRlbmRhbmNlLmZpbHRlcihmdW5jdGlvbiAoYXR0KSB7CiAgICAgICAgcmV0dXJuIGF0dC5uYW1hLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuaXNGaXJzdFRpbWUpIHsKICAgICAgdGhpcy5mZXRjaERhdGEoKTsKICAgICAgdGhpcy5pc0ZpcnN0VGltZSA9IGZhbHNlOwogICAgfQoKICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmZldGNoRGF0YSgpOwogICAgfSwgMjAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hdHRlbmRhbmNlJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygnZmV0Y2hpbmcnKQogICAgICAgIF90aGlzMi5saXN0QXR0ZW5kYW5jZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLmZpbmlzaExvYWRpbmcgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICB0b2RheURhdGU6IGZ1bmN0aW9uIHRvZGF5RGF0ZSgpIHsKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRkID0gU3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgdmFyIG1tID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7CiAgICAgIHRvZGF5ID0gbW0gKyAnLycgKyBkZCArICcvJyArIHl5eXk7CiAgICAgIHJldHVybiB0b2RheTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AttendanceList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,MAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,eAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,IAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,GAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OANA,EAWA;AACA,QAAA,GAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAXA;AALA,KAAA;AAsBA,GA5BA;AA6BA,EAAA,QAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA;AACA,aAAA,KAAA,cAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,eAAA,GAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,WAAA,CAAA,WAAA,EAAA,CAAA;AACA,OAFA,CAAA;AAGA;AANA,GA7BA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AACA,QAAA,KAAA,WAAA,EAAA;AACA,WAAA,SAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA;;AACA,IAAA,MAAA,CAAA,WAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,SAAA;AACA,KAFA,EAEA,IAFA;AAGA,GA7CA;AA8CA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,CACA,kCADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA,OANA;AAOA,KATA;AAUA,IAAA,SAVA,uBAUA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,EAAA,GAAA,MAAA,CAAA,KAAA,CAAA,OAAA,EAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,MAAA,CAAA,KAAA,CAAA,QAAA,KAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,WAAA,EAAA;AACA,MAAA,KAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,IAAA;AACA,aAAA,KAAA;AACA;AAjBA;AA9CA,CAAA","sourcesContent":["<!-- eslint-disable -->\n<template>\n  <v-container id=\"attd-list\" fluid tag=\"section\">\n    <v-row justify=\"center\">\n      <v-col \n        cols=\"12\"\n        md=\"12\">\n        <base-material-card\n          icon=\"mdi-view-dashboard\"\n          :title=\"'Attendance List ' + todayDate()\"\n          class=\"px-5 py-3\"\n        >\n          <div\n            align=\"center\"\n            v-if=\"!finishLoading\">\n            <v-progress-circular\n              indeterminate\n              rotate\n              color=\"success\"\n            >\n            </v-progress-circular>\n          </div>\n          <v-text-field\n            v-model=\"search\"\n            label=\"Search attendance record by employee's name\"\n          />\n          <b-table\n            show-empty\n            v-if=\"finishLoading\"\n            striped \n            hover\n            head-variant=\"dark\"\n            :fields=\"fields\"\n            :items=\"computedAttendance\">\n          </b-table>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  import axios from 'axios'\n  import { BTable } from 'bootstrap-vue'\n\n  export default {\n    name: 'AttendanceList',\n    components: {\n      'b-table': BTable,\n    },\n    data () {\n      return {\n        search: '',\n        listAttendance: [],\n        isFirstTime: true,\n        finishLoading: false,\n        fields: [\n          {\n            key: 'nik',\n            label: 'ID',\n            sortable: false,\n          },\n          {\n            key: 'nama',\n            label: 'Name',\n            sortable: false,\n          },\n          {\n            key: 'timestamp',\n            label: 'Time',\n          },\n        ],\n      }\n    },\n    computed: {\n      computedAttendance () {\n        const searchQuery = this.search\n        return this.listAttendance.filter(function (att) {\n          return att.nama.toLowerCase().includes(searchQuery.toLowerCase())\n        })\n      },\n    },\n    mounted () {\n      if (this.isFirstTime) {\n        this.fetchData()\n        this.isFirstTime = false\n      }\n      window.setInterval(() => {\n        this.fetchData()\n      }, 2000)\n    },\n    methods: {\n      fetchData () {\n        axios\n          .get('http://localhost:5000/attendance')\n          .then(response => {\n            // console.log('fetching')\n            this.listAttendance = response.data\n            this.finishLoading = true\n          })\n      },\n      todayDate () {\n        var today = new Date()\n        var dd = String(today.getDate()).padStart(2, '0')\n        var mm = String(today.getMonth() + 1).padStart(2, '0')\n        var yyyy = today.getFullYear()\n        today = mm + '/' + dd + '/' + yyyy\n        return today\n      },\n    },\n  }\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views"}]}