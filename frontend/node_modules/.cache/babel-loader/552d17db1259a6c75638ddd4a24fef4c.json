{"remainingRequest":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\ListEmployee.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\ListEmployee.vue","mtime":1592960214000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBCVGFibGUsIEJNb2RhbCwgQkZvcm1DaGVja2JveCwgQlBhZ2luYXRpb24gfSBmcm9tICdib290c3RyYXAtdnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMaXN0RW1wbG95ZWUnLAogIGNvbXBvbmVudHM6IHsKICAgICdiLXRhYmxlJzogQlRhYmxlLAogICAgJ2ItbW9kYWwnOiBCTW9kYWwsCiAgICAnYi1mb3JtLWNoZWNrYm94JzogQkZvcm1DaGVja2JveCwKICAgICdiLXBhZ2luYXRpb24nOiBCUGFnaW5hdGlvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIHBlclBhZ2U6IDUsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBlbXBsb3llZTogW10sCiAgICAgIGlzRmlyc3RUaW1lOiB0cnVlLAogICAgICBmaW5pc2hMb2FkaW5nOiBmYWxzZSwKICAgICAgc2hvd0RlYWN0aXZhdGVkOiBmYWxzZSwKICAgICAgZW1wbG95ZWVfd2lsbF9iZV9yZW1vdmVkOiB7CiAgICAgICAgbmlrOiAnJywKICAgICAgICBuYW1hOiAnJwogICAgICB9LAogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAnbmlrJywKICAgICAgICBsYWJlbDogJ0lEJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnbmFtYScsCiAgICAgICAgbGFiZWw6ICdOYW1lJywKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0aFN0eWxlOiB7CiAgICAgICAgICBtaW5XaWR0aDogMTAwMAogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogJ2NyZWF0ZWRfYXQnLAogICAgICAgIGxhYmVsOiAnQ3JlYXRlZCBhdCcsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogJ2FjdGlvbicsCiAgICAgICAgbGFiZWw6ICdBY3Rpb24nCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dGVkRW1wbG95ZWU6IGZ1bmN0aW9uIGNvbXB1dGVkRW1wbG95ZWUoKSB7CiAgICAgIHZhciBzZWFyY2hRdWVyeSA9IHRoaXMuc2VhcmNoOwoKICAgICAgaWYgKCF0aGlzLnNob3dEZWFjdGl2YXRlZCkgewogICAgICAgIHJldHVybiB0aGlzLmVtcGxveWVlLmZpbHRlcihmdW5jdGlvbiAoZW1wKSB7CiAgICAgICAgICB2YXIgY29udGFpbnNTZWFyY2hRdWVyeSA9IGVtcC5uYW1hLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgICByZXR1cm4gZW1wLmFjdGl2ZSA9PT0gMSAmJiBjb250YWluc1NlYXJjaFF1ZXJ5OwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5lbXBsb3llZTsKICAgIH0sCiAgICByb3dzOiBmdW5jdGlvbiByb3dzKCkgewogICAgICByZXR1cm4gdGhpcy5jb21wdXRlZEVtcGxveWVlLmxlbmd0aDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9lbXBsb3llZScpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICBfdGhpcy5lbXBsb3llZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMuZmluaXNoTG9hZGluZyA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIHdpbGxEZWFjdGl2YXRlOiBmdW5jdGlvbiB3aWxsRGVhY3RpdmF0ZShuaWssIG5hbWEpIHsKICAgICAgdGhpcy5lbXBsb3llZV93aWxsX2JlX3JlbW92ZWQgPSB7CiAgICAgICAgbmlrOiBuaWssCiAgICAgICAgbmFtYTogbmFtYQogICAgICB9OwogICAgICB0aGlzLiRyZWZzWydyZW1vdmUtY29uZmlybWF0aW9uJ10uc2hvdygpOwogICAgfSwKICAgIGRlYWN0aXZhdGU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL3JlbW92ZV9lbXBsb3llZS8nICsgdGhpcy5lbXBsb3llZV93aWxsX2JlX3JlbW92ZWQubmlrKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ListEmployee.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,MAAA,EAAA,MAAA,EAAA,aAAA,EAAA,WAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,eAAA,MADA;AAEA,eAAA,MAFA;AAGA,uBAAA,aAHA;AAIA,oBAAA;AAJA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,IALA;AAMA,MAAA,aAAA,EAAA,KANA;AAOA,MAAA,eAAA,EAAA,KAPA;AAQA,MAAA,wBAAA,EAAA;AACA,QAAA,GAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OARA;AAYA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,GAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,QAAA,EAAA,IAHA;AAIA,QAAA,OAAA,EAAA;AAAA,UAAA,QAAA,EAAA;AAAA;AAJA,OALA,EAWA;AACA,QAAA,GAAA,EAAA,YADA;AAEA,QAAA,KAAA,EAAA,YAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAXA,EAgBA;AACA,QAAA,GAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAhBA;AAZA,KAAA;AAkCA,GA3CA;AA4CA,EAAA,QAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA;;AACA,UAAA,CAAA,KAAA,eAAA,EAAA;AACA,eAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,mBAAA,GAAA,GAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,WAAA,CAAA,WAAA,EAAA,CAAA;AACA,iBAAA,GAAA,CAAA,MAAA,KAAA,CAAA,IAAA,mBAAA;AACA,SAHA,CAAA;AAIA;;AAAA,aAAA,KAAA,QAAA;AACA,KATA;AAUA,IAAA,IAVA,kBAUA;AACA,aAAA,KAAA,gBAAA,CAAA,MAAA;AACA;AAZA,GA5CA;AA0DA,EAAA,OA1DA,qBA0DA;AACA,SAAA,SAAA;AACA,GA5DA;AA6DA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,CACA,gCADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,IAAA;AACA,OANA;AAOA,KATA;AAUA,IAAA,cAVA,0BAUA,GAVA,EAUA,IAVA,EAUA;AACA,WAAA,wBAAA,GAAA;AACA,QAAA,GAAA,EAAA,GADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,WAAA,KAAA,CAAA,qBAAA,EAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,UAjBA,wBAiBA;AACA,MAAA,KAAA,CACA,GADA,CACA,2CAAA,KAAA,wBAAA,CAAA,GADA,EAEA,IAFA,CAEA;AAAA,eAAA,QAAA,CAAA,MAAA,EAAA;AAAA,OAFA;AAGA;AArBA;AA7DA,CAAA","sourcesContent":["<!-- eslint-disable -->\n<template>\n  <v-container id=\"attd-list\" fluid tag=\"section\">\n    <v-row justify=\"center\">\n      <v-col \n        cols=\"12\"\n        md=\"12\">\n        <base-material-card\n          icon=\"mdi-account-multiple\"\n          title=\"Employee List\"\n          class=\"px-5 py-3\"\n        >\n          <div\n          align=\"center\"\n          v-if=\"!finishLoading\">\n          <v-progress-circular\n            indeterminate\n            rotate\n            color=\"success\"\n          >\n          </v-progress-circular>\n          </div>\n          <div>\n            <v-text-field\n              v-model=\"search\"\n              label=\"Search employee by name\"\n            />\n            <b-table\n              id=\"table-employee\"\n              v-if=\"finishLoading\"\n              :per-page=\"perPage\"\n              :current-page=\"currentPage\"\n              striped \n              show-empty\n              hover\n              head-variant=\"dark\"\n              :fields=\"fields\"\n              :items=\"computedEmployee\">\n              <template v-slot:cell(action)=\"row\">\n                <v-btn v-if=\"row.item.active == 1\" color=\"red\" min-width=200 @click=\"willDeactivate(row.item.nik, row.item.nama)\" class=\"mr-1\">\n                  deactivate\n                </v-btn>\n                <v-btn v-if=\"row.item.active == 0\" color=\"grey\" disabled min-width=200 class=\"mr-1\">\n                  deactivated\n                </v-btn>\n              </template>\n            </b-table>\n            <b-pagination\n              v-model=\"currentPage\"\n              :total-rows=\"rows\"\n              :per-page=\"perPage\"\n              aria-controls=\"table-employee\"\n              pills\n            ></b-pagination>\n          </div>\n          <b-modal centered ref=\"remove-confirmation\" title=\"Confirmation\" @ok=\"deactivate\">\n            <p class=\"my-4\">Are you sure you want to remove \"{{ employee_will_be_removed.nama }}\" with ID number \"{{ employee_will_be_removed.nik }}?\"</p>\n          </b-modal>\n          <div align=\"right\" class=\"mb-1\">\n            <b-form-checkbox\n              v-model=\"showDeactivated\"\n            >\n              show deactivated employees \n            </b-form-checkbox>\n          </div>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  import axios from 'axios'\n  import { BTable, BModal, BFormCheckbox, BPagination } from 'bootstrap-vue'\n\n  export default {\n    name: 'ListEmployee',\n    components: {\n      'b-table': BTable,\n      'b-modal': BModal,\n      'b-form-checkbox': BFormCheckbox,\n      'b-pagination': BPagination,\n    },\n    data () {\n      return {\n        search: '',\n        perPage: 5,\n        currentPage: 1,\n        employee: [],\n        isFirstTime: true,\n        finishLoading: false,\n        showDeactivated: false,\n        employee_will_be_removed: {\n          nik: '',\n          nama: '',\n        },\n        fields: [\n          {\n            key: 'nik',\n            label: 'ID',\n          },\n          {\n            key: 'nama',\n            label: 'Name',\n            sortable: true,\n            thStyle: { minWidth: 1000 },\n          },\n          {\n            key: 'created_at',\n            label: 'Created at',\n            sortable: true,\n          },\n          {\n            key: 'action',\n            label: 'Action',\n          },\n        ],\n      }\n    },\n    computed: {\n      computedEmployee () {\n        const searchQuery = this.search\n        if (!this.showDeactivated) {\n          return this.employee.filter(function (emp) {\n            const containsSearchQuery = emp.nama.toLowerCase().includes(searchQuery.toLowerCase())\n            return (emp.active === 1 && containsSearchQuery)\n          })\n        } return this.employee\n      },\n      rows () {\n        return this.computedEmployee.length\n      },\n    },\n    mounted () {\n      this.fetchData()\n    },\n    methods: {\n      fetchData () {\n        axios\n          .get('http://localhost:5000/employee')\n          .then(response => {\n            // console.log(response.data)\n            this.employee = response.data\n            this.finishLoading = true\n          })\n      },\n      willDeactivate (nik, nama) {\n        this.employee_will_be_removed = {\n          nik: nik,\n          nama: nama,\n        }\n        this.$refs['remove-confirmation'].show()\n      },\n      deactivate () {\n        axios\n          .get('http://localhost:5000/remove_employee/' + this.employee_will_be_removed.nik)\n          .then(() => location.reload())\n      },\n    },\n  }\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views"}]}