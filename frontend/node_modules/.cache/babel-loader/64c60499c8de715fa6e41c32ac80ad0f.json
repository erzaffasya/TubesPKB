{"remainingRequest":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\CreateReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\src\\views\\CreateReport.vue","mtime":1592960214000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ERZA\\Documents\\GitHub\\TubesPKB\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBKc29uRXhjZWwgZnJvbSAndnVlLWpzb24tZXhjZWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NyZWF0ZVJlcG9ydCcsCiAgY29tcG9uZW50czogewogICAgJ2Rvd25sb2FkLWV4Y2VsJzogSnNvbkV4Y2VsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGlja2VyOiBudWxsLAogICAgICBkYXRhbGlzdDogewogICAgICAgIGRhdGU6ICcnLAogICAgICAgIGxpc3Q6IFtdCiAgICAgIH0sCiAgICAgIGZpZWxkczogewogICAgICAgICdJRCBLYXJ5YXdhbic6ICdpZF9rYXJ5YXdhbicsCiAgICAgICAgJ05hbWEgS2FyeWF3YW4nOiAnbmFtYScsCiAgICAgICAgJ0phbSBEYXRhbmcnOiAnZGF0YW5nJywKICAgICAgICAnSmFtIFB1bGFuZyc6ICdwdWxhbmcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucGlja2VyID0gdGhpcy5nZXREYXRlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW5Eb3dubG9hZDogZnVuY3Rpb24gY2FuRG93bmxvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnBpY2tlciA9PT0gdGhpcy5kYXRhbGlzdC5kYXRlICYmIHRoaXMuZGF0YWxpc3QubGlzdC5sZW5ndGggPiAwOwogICAgfSwKICAgIGNoZWNrOiBmdW5jdGlvbiBjaGVjayhlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL3JlcG9ydC8nICsgdGhpcy5waWNrZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBhbGVydCgnVGlkYWsgYWRhIGNhdGF0YW4ga2VoYWRpcmFuIHBhZGEgdGFuZ2dhbCAnICsgX3RoaXMucGlja2VyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZGF0YWxpc3QuZGF0ZSA9IF90aGlzLnBpY2tlcjsKICAgICAgICAgIF90aGlzLmRhdGFsaXN0Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGF0ZTogZnVuY3Rpb24gZ2V0RGF0ZSgpIHsKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRkID0gU3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgdmFyIG1tID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7CiAgICAgIHJldHVybiB5eXl5ICsgJy0nICsgbW0gKyAnLScgKyBkZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CreateReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,SAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,sBAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA;AACA,uBAAA,aADA;AAEA,yBAAA,MAFA;AAGA,sBAAA,QAHA;AAIA,sBAAA;AAJA;AANA,KAAA;AAaA,GAnBA;AAoBA,EAAA,QAAA,EAAA,EApBA;AAsBA,EAAA,OAtBA,qBAsBA;AACA,SAAA,MAAA,GAAA,KAAA,OAAA,EAAA;AACA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,KAAA,KAAA,QAAA,CAAA,IAAA,IAAA,KAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA;AACA,KAHA;AAIA,IAAA,KAJA,iBAIA,CAJA,EAIA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,kCAAA,KAAA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,8CAAA,KAAA,CAAA,MAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,GAAA,KAAA,CAAA,MAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA;AACA,OATA;AAUA,KAhBA;AAiBA,IAAA,OAjBA,qBAiBA;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,EAAA,GAAA,MAAA,CAAA,KAAA,CAAA,OAAA,EAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,MAAA,CAAA,KAAA,CAAA,QAAA,KAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,GAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,WAAA,EAAA;AACA,aAAA,IAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA;AACA;AAvBA;AAzBA,CAAA","sourcesContent":["<!-- eslint-disable -->\n<template>\n  <v-container id=\"attd-list\" fluid tag=\"section\">\n    <v-row justify=\"center\">\n      <v-col \n        cols=\"12\"\n        md=\"12\">\n        <base-material-card\n          icon=\"mdi-account-plus\"\n          title=\"Create Attendance Report\"\n          class=\"px-5 py-3\"\n        > \n          <v-form>\n            <v-container class=\"py-0\">\n                <v-row justify=\"center\">\n                    <v-date-picker\n                        v-model=\"picker\"\n                        full-width\n                    >\n                    </v-date-picker>\n                </v-row>\n                <v-row>\n                <v-col cols=\"12\" md=\"6\">\n                    <v-btn\n                    block\n                    color=\"success\"\n                    class=\"mr-0\"\n                    @click=\"check\">\n                    process report\n                    </v-btn>\n                </v-col>\n                <v-col cols=\"12\" md=\"6\">\n                  <v-btn\n                    block\n                    color=\"blue\"\n                    :disabled=\"!canDownload()\"\n                    class=\"mr-0\"\n                    @click=\"check\">\n\n                    <download-excel\n                      :data   = \"datalist.list\"\n                      :fields = \"fields\"\n                      worksheet = \"My Worksheet\"\n                      :name    = \"'Attendance List ' + this.picker + '.xls'\">\n                    </download-excel>\n\n                  </v-btn>\n                </v-col>\n                </v-row>\n\n            </v-container>\n          </v-form>\n        </base-material-card>\n      </v-col>\n\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n  import axios from 'axios'\n  import JsonExcel from 'vue-json-excel'\n  export default {\n    name: 'CreateReport',\n    components: {\n      'download-excel': JsonExcel,\n    },\n    data () {\n      return {\n        picker: null,\n        datalist: {\n          date: '',\n          list: [],\n        },\n        fields: {\n          'ID Karyawan': 'id_karyawan',\n          'Nama Karyawan': 'nama',\n          'Jam Datang': 'datang',\n          'Jam Pulang': 'pulang',\n        },\n      }\n    },\n    computed: {\n    },\n    mounted () {\n      this.picker = this.getDate()\n    },\n    methods: {\n      canDownload () {\n        return this.picker === this.datalist.date && this.datalist.list.length > 0\n      },\n      check (e) {\n        e.preventDefault()\n        axios\n          .get('http://localhost:5000/report/' + this.picker)\n          .then(response => {\n            if (response.data.length === 0) {\n              alert('Tidak ada catatan kehadiran pada tanggal ' + this.picker)\n            } else {\n              this.datalist.date = this.picker\n              this.datalist.list = response.data\n            }\n          })\n      },\n      getDate () {\n        const today = new Date()\n        var dd = String(today.getDate()).padStart(2, '0')\n        var mm = String(today.getMonth() + 1).padStart(2, '0')\n        var yyyy = today.getFullYear()\n        return yyyy + '-' + mm + '-' + dd\n      },\n    },\n  }\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views"}]}